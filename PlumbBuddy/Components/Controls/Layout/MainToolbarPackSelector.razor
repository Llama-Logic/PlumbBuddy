@inherits ReactiveComponentBase
@inject IDialogService DialogService
@inject IGameResourceCataloger GameResourceCataloger
@inject IMarkupLocalizer<AppText> MarkupLocalizer
@inject IModsDirectoryCataloger ModsDirectoryCataloger

<MudTooltip Arrow="true">
    <ChildContent>
        <MudIconButton Disabled="@(Observed(() => ModsDirectoryCataloger.State) is not ModsDirectoryCatalogerState.Idle or ModsDirectoryCatalogerState.Sleeping || GameResourceCataloger.PackageExaminationsRemaining is not 0)" Icon="@MaterialDesignIcons.Normal.BagPersonal" Color="Color.Info" OnClick="@(() => DialogService.ShowPackSelectorDialogAsync())" />
    </ChildContent>
    <TooltipContent>
        <MudStack Row="true">
            <MudIcon Icon="@MaterialDesignIcons.Normal.BagPersonal" />
            <MudTextM3 Typo="TypoM3.Title">
                Pack Selector
            </MudTextM3>
        </MudStack>
        <MudDivider />
        <MudTextM3 Typo="TypoM3.Label" Align="Align.Justify">
            Select which packs the game should load.
        </MudTextM3>
        @if (Observed(() => ModsDirectoryCataloger.State) is not ModsDirectoryCatalogerState.Idle or ModsDirectoryCatalogerState.Sleeping || GameResourceCataloger.PackageExaminationsRemaining is not 0)
        {
            <MudDivider />
            <MudTextM3 Typo="TypoM3.Label" Align="Align.Justify">
                The Pack Selector requires that I'm done looking at your mods and game files.
                When that's done, come back.
            </MudTextM3>
        }
    </TooltipContent>
</MudTooltip>
